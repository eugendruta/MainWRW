'use strict';$(document).ready(function(){dialogname="webrw";UTIL.logger(dialogname+": ready(): Start; startdialog: "+config.startdialog);servername=location.hostname+":8080";UTIL.logger("Servername: "+servername);"undefined"===typeof Storage&&alert("localStorage nicht verf\u00fcgbar !!");for(let a=0;a<localStorage.length;a++){let b=localStorage.key(a);"closed"===localStorage.getItem(b)&&localStorage.removeItem(b)}localStorage.setItem("starttime",Date().toString());UTIL.logger(dialogname+": ready(): starttime: "+
Date().toString()+" gesetzt");$(window).on("beforeunload",function(a){a.preventDefault();localStorage.removeItem("starttime");UTIL.logger(dialogname+":  beforeunload(): starttime in storage gel\u00f6scht; localStorage.length: "+localStorage.length);for(a=0;a<localStorage.length;a++){let b=localStorage.key(a),c=localStorage.getItem(b);if("focus"===c||"folge"===c)localStorage.setItem(b,"closed"),UTIL.logger(dialogname+":  beforeunload(): key: "+b+"; auf closed gesetzt")}return"Wollen Sie tats\u00e4chlich den Dialog schlie\u00dfen?"});
window.addEventListener("storage",function(a){var b=a.key,c=a.newValue;a=a.oldValue;var d=localStorage.getItem(b);UTIL.logger(dialogname+": onStorageEvent(): eintrag f\u00fcr key: "+b+"; oldvalue: "+a+"; newvalue: "+c+"; eintrag: "+d);"closed"===c?(localStorage.removeItem(b),UTIL.logger(dialogname+": onStorageEvent(): Dialog: "+b+" gel\u00f6scht")):"folge"===c&&(aktdialog=b,UTIL.logger(dialogname+": onStorageEvent(): folgedialog: "+b),b=localStorage.getItem(aktdialog+".width"),b-=b/120,c=localStorage.getItem(aktdialog+
".height"),UTIL.logger(dialogname+": onStorageEvent(): aktdialog: "+aktdialog+";_width: "+b+"; _height: "+(c-c/120)),(b=window.open("http://localhost:8080/webrwinbsuebweb/"+aktdialog+"/"+aktdialog+".html","_blank"))?(UTIL.logger(dialogname+": onStorageEvent(): dialog: "+b.name+" gestartet"),localStorage.setItem(aktdialog,"focus"),UTIL.logger(dialogname+": onStorageEvent(): localStorage: aktdialog: "+aktdialog+" auf focus gesetzt")):alert("Start Dialog"+aktdialog+" nicht m\u00f6glich; Bitte POp-Up Blocker deaktivieren."))},
!1);$("#kennwort").keypress(function(a){a=a.keyCode?a.keyCode:a.which;13===a&&(UTIL.logger(dialogname+": kennwort.keypress: keycode: "+a),login())});(function(){var a=localStorage.getItem("ipadresse"),b=localStorage.getItem("pcname");UTIL.logger(dialogname+": devicedaten(): ipadresse: "+a+"; pcname: "+b);null===a?(UTIL.showMessage("Bitte IP-Adresse und PC-Name eingeben","info"),$("#ipadresse").prop("disabled",!1),$("#pcname").prop("disabled",!1),$("#devspeichernbtn").show()):($("#ipadresse").val(a),
$("#pcname").val(b),$("#ipadresse").prop("disabled",!0),$("#pcname").prop("disabled",!0),$("#devspeichernbtn").hide())})();getbrowser=function(){var a=0<=navigator.userAgent.search("MSIE")?"MSIE":0<=navigator.userAgent.search("Chrome")?0<=navigator.userAgent.search("Edge")?"Edge":"Chrome":0<=navigator.userAgent.search("Firefox")?"Firefox":0<=navigator.userAgent.search("Safari")&&0>navigator.userAgent.search("Chrome")?"Safari":0<=navigator.userAgent.search("Opera")?"Opera":0<=navigator.userAgent.search("NET")?
"NET":0<=navigator.userAgent.search("Edge")?"Edge":"unbekannt";UTIL.logger(dialogname+": userAgent: "+a);return a};browser=getbrowser();localStorage.setItem("browser",browser);$("#navigator").tree({data:[{label:"Administration",children:[{label:"ADUEB: Administration-\u00dcbersicht"},{label:"AUUEB: Auftrags\u00fcbersicht"}]},{label:"Stammdaten",children:[{label:"WA 1",children:[{label:"WAUE1: WA1-\u00dcbersicht"},{label:"POUEB: Positions-\u00dcbersicht"}]},{label:"WA 2"}]},{label:"Lagerverwaltung",
children:[{label:"WA 1",children:[{label:"WAUE1: WA1-\u00dcbersicht"},{label:"POUEB: Positions-\u00dcbersicht"}]},{label:"WA 2"}]},{label:"Ger\u00e4teverwaltung",children:[{label:"WA 1",children:[{label:"WAUE1: WA1-\u00dcbersicht"},{label:"POUEB: Positions-\u00dcbersicht"}]},{label:"WA 2"}]},{label:"Bestandsverwaltung",children:[{label:"BSUEB: Bestands-\u00dcbersicht"},{label:"AVUEB: Auftrags\u00fcbersicht"},{label:"AVDET: Auftragsdetail"},{label:"BPROT: Bestandsprotokoll"}]},{label:"Wareneingang",
children:[{label:"WA 1",children:[{label:"WAUE1: WA1-\u00dcbersicht"},{label:"POUEB: Positions-\u00dcbersicht"}]},{label:"WA 2"}]},{label:"Auftragsabwicklung",children:[{label:"WA 1",children:[{label:"WAUE1: WA1-\u00dcbersicht"},{label:"POUEB: Positions-\u00dcbersicht"}]},{label:"WA 2"}]},{label:"Transportverwaltung",children:[{label:"WA 1",children:[{label:"WAUE1: WA1-\u00dcbersicht"},{label:"POUEB: Positions-\u00dcbersicht"}]},{label:"WA 2"}]},{label:"Kommissionierung",children:[{label:"WA 1",children:[{label:"WAUE1: WA1-\u00dcbersicht"},
{label:"POUEB: Positions-\u00dcbersicht"}]},{label:"WA 2"}]},{label:"Warenausgang",children:[{label:"WA 1",children:[{label:"WAUE1: WA1-\u00dcbersicht"},{label:"POUEB: Positions-\u00dcbersicht"}]},{label:"WA 2"}]},{label:"Leitstand",children:[{label:"WA 1",children:[{label:"WAUE1: WA1-\u00dcbersicht"},{label:"POUEB: Positions-\u00dcbersicht"}]},{label:"WA 2"}]}],selectable:!0,autoOpen:!0,closedIcon:$('\x3ci class\x3d"fas fa-folder" style\x3d"color: lightblue"\x3e\x3c/i\x3e'),openedIcon:$('\x3ci class\x3d"fas fa-folder-open" style\x3d"color: lightblue"\x3e\x3c/i\x3e')});
$("#navigator").bind("tree.click",function(a){var b=a.node.name,c=b.toString().indexOf(":");if(-1!==c){if(b=b.toString().toLowerCase().substring(0,c),c=localStorage.getItem(b),UTIL.logger(dialogname+": navigator.click(): dialog: "+b+" localStorage eintrag: "+c),!c){c=localStorage.getItem(b+".width");c-=c/120;var d=localStorage.getItem(b+".height");UTIL.logger(dialogname+": navigator.click(): aktdialog: "+b+";_width: "+c+"; _height: "+(d-d/120));c=window.open("http://localhost:8080/webrwinbsuebweb/"+
b+"/"+b+".html","_blank");UTIL.logger(dialogname+": navigator.click(): dialog: "+c.name+" gestartet");localStorage.setItem(b,"focus");UTIL.logger(dialogname+": navigator.click(): localStorage: aktdialog: "+b+" auf focus gesetzt");$("#navigator").tree("closeNode",a.node)}}else alert("Navigatoreintrag falsch")});$("#navigatortbl").hide();$("#aktivewindows").hide();login=function(){var a=$("#benutzer").val(),b=$("#kennwort").val();UTIL.logger(dialogname+": login(): benutzer: "+a+"; kennwort:"+b+"; url: "+
("http://"+servername+"/WebRWinMvn/login?benutzer\x3d"+a+"\x26kennwort\x3d"+b));$("#navigatortbl").show();$("#aktivewindows").show();$("#login").hide();a=config.startdialog;if(""!==a&&(b=localStorage.getItem(a),UTIL.logger(dialogname+": login(): defaultstart: dialog: "+a+" localStorage eintrag: "+b),!b)){b=localStorage.getItem(a+".width");b-=b/120;var c=localStorage.getItem(a+".height");UTIL.logger(dialogname+": login(): defaultstart: "+a+";_width: "+b+"; _height: "+(c-c/120));localStorage.setItem(a,
"focus");UTIL.logger(dialogname+": login(): defaultstart:  defdialog: "+a+" auf focus gesetzt");a=window.open("http://localhost:8080/webrwinbsuebweb/"+a+"/"+a+".html","_blank");UTIL.logger(dialogname+": login(): defaultstart: "+a.name+" gestartet")}};device=function(){var a=$("#ipadresse").val(),b=$("#pcname").val();UTIL.logger(dialogname+": device(): ipadresse: "+a+"; pcname:"+b);localStorage.setItem("ipadresse",a);localStorage.setItem("pcname",b);$("#ipadresse").prop("disabled",!0);$("#pcname").prop("disabled",
!0);$("#devspeichernbtn").hide()}});